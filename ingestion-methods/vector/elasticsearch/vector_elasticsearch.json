{
  "data_dir": "/var/lib/vector",
  "sources": {
      "generate_apache_common": {
          "type": "demo_logs",
          "format": "apache_common",
          "count": 50,
          "interval": 1,
          "lines": [
              "line1"
          ]
      },
      "generate_syslog": {
          "type": "demo_logs",
          "format": "syslog",
          "count": 12
      },
      "nginx_metrics": {
          "type": "nginx_metrics",
          "endpoints": [
              "http://3.139.99.91/nginx_status"
          ],
          "namespace": "nginx",
          "scrape_interval_secs": 5
      },
      "read_from_file": {
          "type": "file",
          "include": [
              "./migration1/SplunkExport.json"
          ],
          "read_from": "beginning"
      }
  },
  "transforms": {
      "remap_file_log": {
          "inputs": [
              "read_from_file"
          ],
          "type": "remap",
          "source": "structured = parse_json!(.message) ., err = merge(., structured)"
      }
  },
  "sinks": {
      "siglens": {
          "request": {
              "concurrency": "adaptive",
              "rate_limit_duration_secs": 1,
              "rate_limit_num": 10,
              "retry_attempts": 3
          },
          "type": "elasticsearch",
          "inputs": [
              "nginx_metrics"
          ],
          "endpoints": [
              "http://localhost:8081/elastic/"
          ],
          "id_key": "hostname",
          "compression": "none",
          "mode": "bulk",
          "query": {
              "X-Powered-By": "Vector"
          },
          "healthcheck": {
              "enabled": false
          }
      }
  }
}